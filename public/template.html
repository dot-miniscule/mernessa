<html>
  <head>
    <title>Places API Query Tracker</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/tabs.js"></script>
  </head>
  {{$reply := .}}
  <body>
    <div class="wrap">
    <div class="titleBar">
      <h4>Places API Tag Tracker for StackExchange </h4>
      <h5> Quota_remaining: {{$reply.Wrapper.Quota_remaining}}</h5>
    </div>
    <!------- CONTENT TABS ---------->
    <div class="tab-panels">
      <ul class="tabs">
        <li rel="unanswered" class="active">Unanswered</li>
        <li rel="answered">Answered</li>
        <li rel="pending">Pending Update</li>
        <li rel="updating">Update</li>
      </ul>

      <form name="change_state" method="POST">
        {{range $cache := $reply.Caches}}
        <div id="{{$cache.CacheType}}" class="panel">
          <div id="info"> 
              <p>{{$cache.Info}}</p>
          </div> 
          <table>
            <thead>
              <tr>
                <th id="qHead">Question</th>
                <th>Unanswered</th>
                <th>Answered</th>
                <th>Pending</th>
                <th>Update</th>
              </tr>
            </thead>
            <tbody>
              {{range $i, $question := $cache.Questions}}
                <tr>
                  <td id="question"><a href={{$question.Link}}>{{$question.Title}}</a></td>
                  <td><input type="radio" name="{{$cache.CacheType}}_state{{$i}}" value="unanswered"></td>
                  <td><input type="radio" name="{{$cache.CacheType}}_state{{$i}}" value="answered"></td>
                  <td><input type="radio" name="{{$cache.CacheType}}_state{{$i}}" value="pending"></td>
                  <td><input type="radio" name="{{$cache.CacheType}}_state{{$i}}" value="updating"></td>
                </tr>
                <script>
                  $("#{{$cache.CacheType}}").find("input[value='{{$cache.CacheType}}']").prop("checked", true);
                </script>
              {{end}}
            </tbody>
          </table>
        </div>
        {{end}}
        <script>
          $("#unanswered").addClass("active");
        </script>

        <!--END TABS-->
        <div class="stickyFooter">
          <div class="footerContents">
            <div id="authorNames">
              <p>Vanessa Gregoriou & Meredith Lane</p>
              <p>STEP Interns, 2015</p>
            </div>
            <div id="submitContainer"> 
              <input type="submit" id=submitButton value="Submit">
              </div>
          </div>
        </div>
      </form>
    </div><!-- END WRAPPER -->
  </body>
</html>
